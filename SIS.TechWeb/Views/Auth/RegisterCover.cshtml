@using SIS.Tech.Models.Login
@model RegistroViewModels

@{
    Layout = null;

    var departamentos = (SelectList)ViewBag.ViewDepartamento;
}

@{
    Layout = "_BlankLayout";
    ViewData["Title"] = "Cadastro Usuário";
}

@section VendorStyles {
    <link rel="stylesheet" href="~/vendor/libs/&#64;form-validation/form-validation.css" />
    <link rel="stylesheet" href="~/vendor/libs/sweetalert2/sweetalert2.css" charset="utf-8" />
}

@section VendorScripts {
    <script src="~/vendor/libs/&#64;form-validation/popular.js"></script>
    <script src="~/vendor/libs/&#64;form-validation/bootstrap5.js"></script>
    <script src="~/vendor/libs/&#64;form-validation/auto-focus.js"></script>
    <script src="~/vendor/libs/sweetalert2/sweetalert2.js" charset="utf-8" type="text/javascript"></script>
}

@section PageStyles {
    <link rel="stylesheet" href="~/vendor/css/pages/page-auth.css" />
}

@section PageScripts {
    <script src="~/js/pages-auth.js"></script>
    <script src="~/js/controllers/sindmasks.js"></script>
    <script src="~/js/extended-ui-sweetalert2.js" charset="utf-8" type="text/javascript"></script>

    @if (TempData["MSG"] != null)
    {
        <script charset="utf-8" type="text/javascript">

            $(document).ready(function () {

                var titulo = "";
                var icon = "";

                switch ("@TempData["MSG"].ToString().Split('|')[0]") {

                    case "success":
                        titulo = "Sucesso";
                        icon = "success";
                        break;
                    case "warning":
                        titulo = "Atenção";
                        icon = "warning";
                        break;
                    case "error":
                        titulo = "Erro";
                        icon = "error";
                        break;
                    case "info":
                        titulo = "Informação";
                        icon = "info";
                        break;
                }

                Swal.fire({
                            title: titulo,
                            @* text: '@TempData["MSG"].ToString().Split('|')[1]', *@
                            icon: icon,
                            html: '@TempData["MSG"].ToString().Split('|')[1]',
                            timer: 10000,
                            customClass: {
                              confirmButton: 'btn btn-primary waves-effect waves-light'
                            },
                            buttonsStyling: false
                          });
            });

        </script>
    }

}
@* ************** Content ************** *@
<div class="authentication-wrapper authentication-cover">
    <!-- Logo -->
    <a href="/" class="app-brand auth-cover-brand">
        <span class="app-brand-logo demo">@await Html.PartialAsync("../_Partials/_Macros")</span>
        <span class="app-brand-text demo text-heading fw-bold">@TempData.Peek("appName")</span>
    </a>
    <!-- /Logo -->
    <div class="authentication-inner row m-0">
        <!-- /Left Text -->
        <div class="d-none d-xl-flex col-xl-8 p-0">
            <div class="auth-cover-bg d-flex justify-content-center align-items-center">
                <img src="~/img/illustrations/auth-register-illustration-light.png" alt="auth-register-cover" class="my-5 auth-illustration" data-app-light-img="illustrations/auth-register-illustration-light.png" data-app-dark-img="illustrations/auth-register-illustration-dark.png" />
                <img src="~/img/illustrations/bg-shape-image-light.png" alt="auth-register-cover" class="platform-bg" data-app-light-img="illustrations/bg-shape-image-light.png" data-app-dark-img="illustrations/bg-shape-image-dark.png" />
            </div>
        </div>
        <!-- /Left Text -->
        <!-- Register -->
        <div class="d-flex col-12 col-xl-4 align-items-center authentication-bg p-sm-12 p-6">
            <div class="w-px-400 mx-auto mt-12 pt-5">
                <h4 class="mb-1">A utilização começa aqui 🚀</h4>
                <p class="mb-6">Torne o gerenciamento do seu dia fácil e eficiente!</p>

                @using (Html.BeginForm("RegisterCover", "Auth", FormMethod.Post, new { enctype = "multipart/form-data", @id = "formAuthentication", @Class = "mb-6", @autocomplete = "off" }))
                {
                    @Html.AntiForgeryToken()


                    <div class="mb-6 form-control-validation">
                        <label for="departamento" class="form-label">Departamento</label>
                        @Html.DropDownListFor(model => Model.CodDepartamento, departamentos, "Selecione um Departamento", new { @class = "form-control", @id = "departamento", tabindex = "1", autocomplete = "off", autofocus = true })

                    </div>

                    <div class="mb-6 form-control-validation">
                        <label for="Usuario" class="form-label">Usuário</label>
                        @Html.TextBoxFor(model => Model.NomeUsuario, new { @class = "form-control", placeholder = "Nome Completo", tabindex = "2", autocomplete = "off", @maxlength = "50" })
                    </div>

                    <div class="mb-6 form-control-validation">
                        <label for="txtCpf" class="form-label">CPF</label>
                        @Html.TextBoxFor(model => Model.Cpf, new { @id = "Cpf", placeholder = "CPF", @class = "form-control", @onkeypress = "return somenteNumeros(event)", @onfocus = "javascript: retirarFormatacao(this); validaCPF(this);", @onblur = "javascript: formatarCampo(this);", @maxlength = "11", autocomplete = "off", tabindex = "3" })
                    </div>

                    <div class="mb-6 form-control-validation">
                        <label for="email" class="form-label">Email</label>
                        @Html.TextBoxFor(model => Model.Email, new { @class = "form-control", @id = "email", placeholder = "E-mail", tabindex = "4", autocomplete = "off" })
                    </div>

                    @*  <div class="mb-6 form-password-toggle form-control-validation">
                        <label class="form-label" for="password">Senha</label>
                        @Html.PasswordFor(model => Model.VlrSenhaUsuario, new { @class = "form-control", @id = "VlrSenhaUsuario", placeholder = "Senha", tabindex = "5", autocomplete = "off" })
                    </div>

                    <div class="mb-6 form-password-toggle form-control-validation">
                        <label class="form-label" for="confirm-password">Senha</label>
                        @Html.PasswordFor(model => Model.ConfirmSenha, new { @class = "form-control", @id = "ConfirmSenha", placeholder = "Confirmar Senha", tabindex = "6", autocomplete = "off" })
                    </div> *@


                    <div class="mb-6 form-password-toggle form-control-validation">
                        <label class="form-label" for="password">New Password</label>
                        <div class="input-group input-group-merge">
                            @Html.PasswordFor(model => Model.VlrSenhaUsuario, new { @class = "form-control", @id = "VlrSenhaUsuario", @Name = "VlrSenhaUsuario", placeholder = "Senha", tabindex = "5", autocomplete = "off" })
                            <span class="input-group-text cursor-pointer"><i class="icon-base ti tabler-eye icon-xs"></i></span>
                        </div>
                    </div>

                    <div class="mb-6 form-password-toggle form-control-validation">
                        <label class="form-label" for="confirm-password">Confirm Password</label>
                        <div class="input-group input-group-merge">
                            @Html.PasswordFor(model => Model.ConfirmSenha, new { @class = "form-control", @id = "ConfirmSenha", @Name = "ConfirmSenha", placeholder = "Confirmar Senha", tabindex = "6", autocomplete = "off" })
                            <span class="input-group-text cursor-pointer"><i class="icon-base ti tabler-eye icon-xs"></i></span>
                        </div>
                    </div>

                    <div class="mb-6 mt-8">

                        <div class="form-check mb-8 ms-2 form-control-validation">
                            @Html.CheckBoxFor(model => Model.terms, new { @class = "form-check-input", @id = "terms-conditions", tabindex = "7", autocomplete = "off", autofocus = true })
                            @Html.ValidationMessageFor(model => Model.terms, "", new { @class = "text-danger" })

                            <label class="form-check-label" for="terms-conditions">
                                Eu concordo em
                                <a href="javascript:void(0);">política de privacidade e termos</a>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary d-grid w-100">Cadastre-se</button>

                }

                <p class="text-center">
                    <span>Já tem uma conta?</span>
                    <a href="/Auth/Login">
                        <span>Em vez disso, faça login</span>
                    </a>
                </p>

                <div class="divider my-6">
                    <div class="divider-text">or</div>
                </div>

                <div class="d-flex justify-content-center">
                    <a href="https://www.facebook.com/sindpetshop.org.br" target="_blank" class="btn btn-icon rounded-circle btn-text-facebook me-1_5">
                        <i class="icon-base ti tabler-brand-facebook-filled icon-20px"></i>
                    </a>

                    <a href="https://www.instagram.com/sindpetshop_sp/" target="_blank" class="btn btn-icon rounded-circle btn-text-instagram me-1_5">
                        <i class="icon-base ti tabler-brand-instagram-filled icon-20px"></i>
                    </a>

                    <a href="https://www.youtube.com/%40tvsindpetshop7689" target="_blank" class="btn btn-icon rounded-circle btn-text-youtube me-1_5">
                        <i class="icon-base ti tabler-brand-youtube-filled icon-20px"></i>
                    </a>

                    <a href="https://www.tiktok.com/%40sindpetshopsp" target="_blank" class="btn btn-icon rounded-circle btn-text-youtube">
                        <i class="icon-base ti tabler-brand-tiktok-filled icon-20px"></i>
                    </a>
                </div>
            </div>
        </div>
        <!-- /Register -->
    </div>
</div>
