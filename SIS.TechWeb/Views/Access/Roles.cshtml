@model SIS.Tech.Domain.Model.Roles

@{
    ViewData["Title"] = "Roles - Apps";
}

@section VendorStyles {
}

@section VendorScripts {
}

@section PageScripts {
    <script src="~/js/controllers/app-access-roles.js"></script>
}

@* ************** Content ************** *@
<h4 class="mb-1">Lista de Perfis</h4>

<p class="mb-6">
    Uma função fornece acesso a menus e recursos predefinidos para que, dependendo da função atribuída,
    um administrador possa ter acesso ao que o usuário precisa.
</p>

<!-- Role cards -->
<div class="row g-6">

    @if (Model.lstRoles != null)
    {
        foreach (var item in Model.lstRoles)
        {
            <div class="col-xl-4 col-lg-6 col-md-6">

                <div class="card">

                    <div class="card-body">

                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h6 class="fw-normal mb-0 text-body">
                                Total  @Html.DisplayFor(modelItem => item.QtdeUsuario) Usuário(s)
                            </h6>

                            <ul class="list-unstyled d-flex align-items-center avatar-group mb-0">

                                @for (int i = 0; i < item.QtdeUsuario; i++)
                                {
                                    <li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Vinnie Mostowy" class="avatar pull-up">
                                        <img class="rounded-circle" src="~/img/avatars/5.png" alt="Avatar" />
                                    </li>
                                }

                            </ul>

                        </div>

                        <div class="d-flex justify-content-between align-items-end">
                            <div class="role-heading">
                                <h5 class="mb-1">
                                    @Html.DisplayFor(modelItem => item.NmePerfil)
                                </h5>

                                <h6 class="fw-normal mb-0 text-body">
                                    Total  @Html.DisplayFor(modelItem => item.QtdeControlesAtivos) Controles Ativo(s)
                                </h6>
                                @* <a href="javascript:;" data-bs-toggle="modal" data-bs-target="#addRoleModal" class="role-edit-modal"><span>Edit Role</span></a> *@

                            </div>

                            @if (item.QtdeControlesAtivos > 0)
                            {
                                if (ViewBag.PermitidoBloquearAcessoPerfil)
                                {
                                    if (item.NmePerfil != "Diretoria")
                                    {
                                        <a href="@Url.Action("BloquearAcessoPorPerfil", "Access", new { codPerfil = @item.CodPerfil, ativo = "0" })" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Bloquear Acesso">
                                            <i style="color:#FF6F0F;" class="icon-base ti tabler-lock-open-2"></i>&nbsp;
                                        </a>
                                    }
                                }
                            }
                            else
                            {
                                if (ViewBag.PermitidoLiberarAcessoPerfil)
                                {
                                    if (item.NmePerfil != "Diretoria")
                                    {
                                        <a href="@Url.Action("BloquearAcessoPorPerfil", "Access", new { codPerfil = @item.CodPerfil, ativo = "1" })" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Liberar Acesso">
                                            <i style="color:#FF6F0F;" class="icon-base ti tabler-lock"></i>&nbsp;
                                        </a>
                                    }
                                }
                            }

                            @* <a href="javascript:void(0);"><i class="icon-base ti tabler-copy icon-md text-heading"></i></a> *@
                        </div>
                    </div>
                </div>
            </div>

        }
    }


</div>
<!--/ Role cards -->
